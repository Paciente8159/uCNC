ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"settings.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.settings_load,"ax",%progbits
  16              		.align	1
  17              		.global	settings_load
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	settings_load:
  25              	.LVL0:
  26              	.LFB66:
  27              		.file 1 "../../settings.c"
   1:../../settings.c **** /*
   2:../../settings.c **** 	Name: settings.c
   3:../../settings.c **** 	Description: µCNC runtime settings. These functions store settings and other parameters
   4:../../settings.c **** 		in non-volatile memory.
   5:../../settings.c **** 
   6:../../settings.c **** 	Copyright: Copyright (c) João Martins
   7:../../settings.c **** 	Author: João Martins
   8:../../settings.c **** 	Date: 26/09/2019
   9:../../settings.c **** 
  10:../../settings.c **** 	µCNC is free software: you can redistribute it and/or modify
  11:../../settings.c **** 	it under the terms of the GNU General Public License as published by
  12:../../settings.c **** 	the Free Software Foundation, either version 3 of the License, or
  13:../../settings.c **** 	(at your option) any later version. Please see <http://www.gnu.org/licenses/>
  14:../../settings.c **** 
  15:../../settings.c **** 	µCNC is distributed WITHOUT ANY WARRANTY;
  16:../../settings.c **** 	Also without the implied warranty of	MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  17:../../settings.c **** 	See the	GNU General Public License for more details.
  18:../../settings.c **** */
  19:../../settings.c **** 
  20:../../settings.c **** #include "config.h"
  21:../../settings.c **** #include "defaults.h"
  22:../../settings.c **** #include "settings.h"
  23:../../settings.c **** #include "mcu.h"
  24:../../settings.c **** #include "serial.h"
  25:../../settings.c **** #include "grbl_interface.h"
  26:../../settings.c **** #include "protocol.h"
  27:../../settings.c **** #include "parser.h"
  28:../../settings.c **** #include "cnc.h"
  29:../../settings.c **** 
  30:../../settings.c **** //if settings struct is changed this version has to change too
  31:../../settings.c **** #define SETTINGS_VERSION "V01"
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 2


  32:../../settings.c **** 
  33:../../settings.c **** settings_t g_settings;
  34:../../settings.c **** 
  35:../../settings.c **** #ifndef CRC_WITHOUT_LOOKUP_TABLE
  36:../../settings.c **** 
  37:../../settings.c **** const uint8_t __rom__ crc7_table[256] =
  38:../../settings.c **** {
  39:../../settings.c ****     0x00, 0x09, 0x12, 0x1b, 0x24, 0x2d, 0x36, 0x3f,
  40:../../settings.c ****     0x48, 0x41, 0x5a, 0x53, 0x6c, 0x65, 0x7e, 0x77,
  41:../../settings.c ****     0x19, 0x10, 0x0b, 0x02, 0x3d, 0x34, 0x2f, 0x26,
  42:../../settings.c ****     0x51, 0x58, 0x43, 0x4a, 0x75, 0x7c, 0x67, 0x6e,
  43:../../settings.c ****     0x32, 0x3b, 0x20, 0x29, 0x16, 0x1f, 0x04, 0x0d,
  44:../../settings.c ****     0x7a, 0x73, 0x68, 0x61, 0x5e, 0x57, 0x4c, 0x45,
  45:../../settings.c ****     0x2b, 0x22, 0x39, 0x30, 0x0f, 0x06, 0x1d, 0x14,
  46:../../settings.c ****     0x63, 0x6a, 0x71, 0x78, 0x47, 0x4e, 0x55, 0x5c,
  47:../../settings.c ****     0x64, 0x6d, 0x76, 0x7f, 0x40, 0x49, 0x52, 0x5b,
  48:../../settings.c ****     0x2c, 0x25, 0x3e, 0x37, 0x08, 0x01, 0x1a, 0x13,
  49:../../settings.c ****     0x7d, 0x74, 0x6f, 0x66, 0x59, 0x50, 0x4b, 0x42,
  50:../../settings.c ****     0x35, 0x3c, 0x27, 0x2e, 0x11, 0x18, 0x03, 0x0a,
  51:../../settings.c ****     0x56, 0x5f, 0x44, 0x4d, 0x72, 0x7b, 0x60, 0x69,
  52:../../settings.c ****     0x1e, 0x17, 0x0c, 0x05, 0x3a, 0x33, 0x28, 0x21,
  53:../../settings.c ****     0x4f, 0x46, 0x5d, 0x54, 0x6b, 0x62, 0x79, 0x70,
  54:../../settings.c ****     0x07, 0x0e, 0x15, 0x1c, 0x23, 0x2a, 0x31, 0x38,
  55:../../settings.c ****     0x41, 0x48, 0x53, 0x5a, 0x65, 0x6c, 0x77, 0x7e,
  56:../../settings.c ****     0x09, 0x00, 0x1b, 0x12, 0x2d, 0x24, 0x3f, 0x36,
  57:../../settings.c ****     0x58, 0x51, 0x4a, 0x43, 0x7c, 0x75, 0x6e, 0x67,
  58:../../settings.c ****     0x10, 0x19, 0x02, 0x0b, 0x34, 0x3d, 0x26, 0x2f,
  59:../../settings.c ****     0x73, 0x7a, 0x61, 0x68, 0x57, 0x5e, 0x45, 0x4c,
  60:../../settings.c ****     0x3b, 0x32, 0x29, 0x20, 0x1f, 0x16, 0x0d, 0x04,
  61:../../settings.c ****     0x6a, 0x63, 0x78, 0x71, 0x4e, 0x47, 0x5c, 0x55,
  62:../../settings.c ****     0x22, 0x2b, 0x30, 0x39, 0x06, 0x0f, 0x14, 0x1d,
  63:../../settings.c ****     0x25, 0x2c, 0x37, 0x3e, 0x01, 0x08, 0x13, 0x1a,
  64:../../settings.c ****     0x6d, 0x64, 0x7f, 0x76, 0x49, 0x40, 0x5b, 0x52,
  65:../../settings.c ****     0x3c, 0x35, 0x2e, 0x27, 0x18, 0x11, 0x0a, 0x03,
  66:../../settings.c ****     0x74, 0x7d, 0x66, 0x6f, 0x50, 0x59, 0x42, 0x4b,
  67:../../settings.c ****     0x17, 0x1e, 0x05, 0x0c, 0x33, 0x3a, 0x21, 0x28,
  68:../../settings.c ****     0x5f, 0x56, 0x4d, 0x44, 0x7b, 0x72, 0x69, 0x60,
  69:../../settings.c ****     0x0e, 0x07, 0x1c, 0x15, 0x2a, 0x23, 0x38, 0x31,
  70:../../settings.c ****     0x46, 0x4f, 0x54, 0x5d, 0x62, 0x6b, 0x70, 0x79
  71:../../settings.c **** };
  72:../../settings.c **** #else
  73:../../settings.c **** static uint8_t crc7(uint8_t c, uint8_t crc)
  74:../../settings.c **** {
  75:../../settings.c **** 	uint8_t i = 8;
  76:../../settings.c ****     for (;;)
  77:../../settings.c ****     {
  78:../../settings.c ****         if (crc & 0x80)
  79:../../settings.c ****         {
  80:../../settings.c ****             crc^=0x89;
  81:../../settings.c ****         }
  82:../../settings.c ****         if(!--i)
  83:../../settings.c ****         {
  84:../../settings.c ****         	return(crc);
  85:../../settings.c **** 		}
  86:../../settings.c ****         crc <<= 1;
  87:../../settings.c ****     }
  88:../../settings.c **** }
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 3


  89:../../settings.c **** #endif
  90:../../settings.c **** 
  91:../../settings.c **** const settings_t __rom__ default_settings =
  92:../../settings.c **** {
  93:../../settings.c ****     .version = SETTINGS_VERSION,
  94:../../settings.c **** #ifdef AXIS_X
  95:../../settings.c ****     .step_per_mm[AXIS_X] = DEFAULT_X_STEP_PER_MM,
  96:../../settings.c ****     .max_feed_rate[AXIS_X] = DEFAULT_X_MAX_FEED,
  97:../../settings.c ****     .acceleration[AXIS_X] = DEFAULT_X_ACCEL,
  98:../../settings.c ****     .max_distance[AXIS_X] = DEFAULT_X_MAX_DIST,
  99:../../settings.c **** #endif
 100:../../settings.c **** #ifdef AXIS_Y
 101:../../settings.c ****     .step_per_mm[AXIS_Y] = DEFAULT_Y_STEP_PER_MM,
 102:../../settings.c ****     .max_feed_rate[AXIS_Y] = DEFAULT_Y_MAX_FEED,
 103:../../settings.c ****     .acceleration[AXIS_Y] = DEFAULT_Y_ACCEL,
 104:../../settings.c ****     .max_distance[AXIS_Y] = DEFAULT_Y_MAX_DIST,
 105:../../settings.c **** #endif
 106:../../settings.c **** #ifdef AXIS_Z
 107:../../settings.c ****     .step_per_mm[AXIS_Z] = DEFAULT_Z_STEP_PER_MM,
 108:../../settings.c ****     .max_feed_rate[AXIS_Z] = DEFAULT_Z_MAX_FEED,
 109:../../settings.c ****     .acceleration[AXIS_Z] = DEFAULT_Z_ACCEL,
 110:../../settings.c ****     .max_distance[AXIS_Z] = DEFAULT_Z_MAX_DIST,
 111:../../settings.c **** #endif
 112:../../settings.c **** #ifdef AXIS_A
 113:../../settings.c ****     .step_per_mm[AXIS_A] = DEFAULT_A_STEP_PER_MM,
 114:../../settings.c ****     .max_feed_rate[AXIS_A] = DEFAULT_A_MAX_FEED,
 115:../../settings.c ****     .acceleration[AXIS_A] = DEFAULT_A_ACCEL,
 116:../../settings.c ****     .max_distance[AXIS_A] = DEFAULT_A_MAX_DIST,
 117:../../settings.c **** #endif
 118:../../settings.c **** #ifdef AXIS_B
 119:../../settings.c ****     .step_per_mm[AXIS_B] = DEFAULT_B_STEP_PER_MM,
 120:../../settings.c ****     .max_feed_rate[AXIS_B] = DEFAULT_B_MAX_FEED,
 121:../../settings.c ****     .acceleration[AXIS_B] = DEFAULT_B_ACCEL,
 122:../../settings.c ****     .max_distance[AXIS_B] = DEFAULT_B_MAX_DIST,
 123:../../settings.c **** #endif
 124:../../settings.c **** #ifdef AXIS_C
 125:../../settings.c ****     .step_per_mm[AXIS_C] = DEFAULT_C_STEP_PER_MM,
 126:../../settings.c ****     .max_feed_rate[AXIS_C] = DEFAULT_C_MAX_FEED,
 127:../../settings.c ****     .acceleration[AXIS_C] = DEFAULT_C_ACCEL,
 128:../../settings.c ****     .max_distance[AXIS_C] = DEFAULT_C_MAX_DIST,
 129:../../settings.c **** #endif
 130:../../settings.c **** 
 131:../../settings.c ****     .step_enable_invert = DEFAULT_STEP_ENA_INV,
 132:../../settings.c ****     .step_invert_mask = DEFAULT_STEP_INV_MASK,
 133:../../settings.c ****     .dir_invert_mask = DEFAULT_DIR_INV_MASK,
 134:../../settings.c ****     .probe_invert_mask = DEFAULT_PROBE_INV_MASK,
 135:../../settings.c ****     .homing_dir_invert_mask = DEFAULT_HOMING_DIR_INV_MASK,
 136:../../settings.c ****     .homing_fast_feed_rate = DEFAULT_HOMING_FAST,
 137:../../settings.c ****     .homing_slow_feed_rate = DEFAULT_HOMING_SLOW,
 138:../../settings.c ****     .homing_offset = DEFAULT_HOMING_OFFSET,
 139:../../settings.c ****     .arc_tolerance = DEFAULT_ARC_TOLERANCE,
 140:../../settings.c ****     .tool_count = DEFAULT_TOOL_COUNT,
 141:../../settings.c ****     .limits_invert_mask = DEFAULT_LIMIT_INV_MASK,
 142:../../settings.c ****     .status_report_mask = DEFAULT_STATUS_MASK,
 143:../../settings.c ****     .control_invert_mask = DEFAULT_CONTROL_INV_MASK,
 144:../../settings.c ****     .max_step_rate = DEFAULT_MAX_STEP_RATE,
 145:../../settings.c ****     .report_inches = DEFAULT_REPORT_INCHES,
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 4


 146:../../settings.c ****     .soft_limits_enabled = DEFAULT_SOFT_LIMITS_ENABLED,
 147:../../settings.c ****     .hard_limits_enabled = DEFAULT_HARD_LIMITS_ENABLED,
 148:../../settings.c ****     .homing_enabled = DEFAULT_HOMING_ENABLED,
 149:../../settings.c ****     .spindle_max_rpm = DEFAULT_SPINDLE_MAX_RPM,
 150:../../settings.c ****     .spindle_min_rpm = DEFAULT_SPINDLE_MIN_RPM
 151:../../settings.c **** };
 152:../../settings.c **** 
 153:../../settings.c **** //static uint8_t settings_crc;
 154:../../settings.c **** 
 155:../../settings.c **** void settings_init(void)
 156:../../settings.c **** {
 157:../../settings.c ****     const char version[3] = SETTINGS_VERSION;
 158:../../settings.c **** 	uint8_t error = settings_load(SETTINGS_ADDRESS_OFFSET, (uint8_t*) &g_settings, (uint8_t)sizeof(set
 159:../../settings.c **** 
 160:../../settings.c ****     if(!error)
 161:../../settings.c ****     {
 162:../../settings.c ****         for(uint8_t i = 0; i < 3; i++)
 163:../../settings.c ****         {
 164:../../settings.c ****             if(g_settings.version[i] != version[i])
 165:../../settings.c ****             {
 166:../../settings.c ****                 error = 1; //just set an error
 167:../../settings.c ****                 break;
 168:../../settings.c ****             }
 169:../../settings.c ****         }
 170:../../settings.c ****     }
 171:../../settings.c **** 	
 172:../../settings.c ****     if(error)
 173:../../settings.c ****     {
 174:../../settings.c ****         settings_reset();
 175:../../settings.c ****         protocol_send_error(STATUS_SETTING_READ_FAIL);
 176:../../settings.c ****         protocol_send_ucnc_settings();
 177:../../settings.c ****     }
 178:../../settings.c **** }
 179:../../settings.c **** 
 180:../../settings.c **** uint8_t settings_load(uint16_t address, uint8_t* __ptr, uint8_t size)
 181:../../settings.c **** {
  28              		.loc 1 181 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 181 1 is_stmt 0 view .LVU1
  33 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 24
  36              		.cfi_offset 3, -24
  37              		.cfi_offset 4, -20
  38              		.cfi_offset 5, -16
  39              		.cfi_offset 6, -12
  40              		.cfi_offset 7, -8
  41              		.cfi_offset 14, -4
  42 0002 0D46     		mov	r5, r1
  43 0004 1646     		mov	r6, r2
 182:../../settings.c ****     uint8_t crc = 0;
  44              		.loc 1 182 5 is_stmt 1 view .LVU2
  45              	.LVL1:
 183:../../settings.c **** 
 184:../../settings.c ****     while (size)
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 5


  46              		.loc 1 184 5 view .LVU3
 182:../../settings.c ****     uint8_t crc = 0;
  47              		.loc 1 182 13 is_stmt 0 view .LVU4
  48 0006 0024     		movs	r4, #0
  49              	.LVL2:
  50              	.L2:
  51              		.loc 1 184 11 is_stmt 1 view .LVU5
  52 0008 7EB1     		cbz	r6, .L5
  53              	.LBB2:
 185:../../settings.c ****     {
 186:../../settings.c ****         size--;
  54              		.loc 1 186 9 view .LVU6
  55              		.loc 1 186 13 is_stmt 0 view .LVU7
  56 000a 013E     		subs	r6, r6, #1
  57              	.LVL3:
  58              		.loc 1 186 13 view .LVU8
  59 000c F6B2     		uxtb	r6, r6
  60              	.LVL4:
 187:../../settings.c ****         uint8_t value = mcu_eeprom_getc(address++);
  61              		.loc 1 187 9 is_stmt 1 view .LVU9
  62              		.loc 1 187 25 is_stmt 0 view .LVU10
  63 000e 471C     		adds	r7, r0, #1
  64 0010 BFB2     		uxth	r7, r7
  65              	.LVL5:
  66              		.loc 1 187 25 view .LVU11
  67 0012 FFF7FEFF 		bl	mcu_eeprom_getc
  68              	.LVL6:
 188:../../settings.c **** #ifndef CRC_WITHOUT_LOOKUP_TABLE
 189:../../settings.c ****         crc = rom_read_byte(&crc7_table[value ^ crc]);
  69              		.loc 1 189 9 is_stmt 1 view .LVU12
  70              		.loc 1 189 47 is_stmt 0 view .LVU13
  71 0016 4440     		eors	r4, r4, r0
  72              	.LVL7:
  73              		.loc 1 189 47 view .LVU14
  74 0018 E4B2     		uxtb	r4, r4
  75              		.loc 1 189 13 view .LVU15
  76 001a 064B     		ldr	r3, .L6
  77 001c 1C5D     		ldrb	r4, [r3, r4]	@ zero_extendqisi2
  78              	.LVL8:
 190:../../settings.c **** #else
 191:../../settings.c ****         crc = crc7(value, crc);
 192:../../settings.c **** #endif
 193:../../settings.c ****         *(__ptr++) = value;
  79              		.loc 1 193 9 is_stmt 1 view .LVU16
  80              		.loc 1 193 16 is_stmt 0 view .LVU17
  81 001e 2946     		mov	r1, r5
  82              	.LVL9:
  83              		.loc 1 193 20 view .LVU18
  84 0020 01F8010B 		strb	r0, [r1], #1
  85              	.LVL10:
  86              		.loc 1 193 16 view .LVU19
  87 0024 0D46     		mov	r5, r1
 187:../../settings.c **** #ifndef CRC_WITHOUT_LOOKUP_TABLE
  88              		.loc 1 187 25 view .LVU20
  89 0026 3846     		mov	r0, r7
  90              	.LVL11:
 187:../../settings.c **** #ifndef CRC_WITHOUT_LOOKUP_TABLE
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 6


  91              		.loc 1 187 25 view .LVU21
  92 0028 EEE7     		b	.L2
  93              	.LVL12:
  94              	.L5:
 187:../../settings.c **** #ifndef CRC_WITHOUT_LOOKUP_TABLE
  95              		.loc 1 187 25 view .LVU22
  96              	.LBE2:
 194:../../settings.c ****     }
 195:../../settings.c **** 
 196:../../settings.c ****     //fix step invert mask to match mirror step pins
 197:../../settings.c ****     #ifdef ENABLE_DUAL_DRIVE_AXIS
 198:../../settings.c ****     #ifdef DUAL_DRIVE_AXIS0
 199:../../settings.c ****     g_settings.step_invert_mask |= (g_settings.step_invert_mask & STEP_DUAL0) ? 64 : 0;
 200:../../settings.c ****     #endif
 201:../../settings.c ****     #ifdef DUAL_DRIVE_AXIS1
 202:../../settings.c ****     g_settings.step_invert_mask |= (g_settings.step_invert_mask & STEP_DUAL1) ? 128 : 0;
 203:../../settings.c ****     #endif
 204:../../settings.c ****     #endif
 205:../../settings.c **** 
 206:../../settings.c ****     return (crc ^ mcu_eeprom_getc(address));
  97              		.loc 1 206 5 is_stmt 1 view .LVU23
  98              		.loc 1 206 19 is_stmt 0 view .LVU24
  99 002a FFF7FEFF 		bl	mcu_eeprom_getc
 100              	.LVL13:
 101              		.loc 1 206 17 view .LVU25
 102 002e 6040     		eors	r0, r0, r4
 207:../../settings.c **** }
 103              		.loc 1 207 1 view .LVU26
 104 0030 C0B2     		uxtb	r0, r0
 105 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 106              	.LVL14:
 107              	.L7:
 108              		.loc 1 207 1 view .LVU27
 109              		.align	2
 110              	.L6:
 111 0034 00000000 		.word	.LANCHOR0
 112              		.cfi_endproc
 113              	.LFE66:
 115              		.section	.text.settings_save,"ax",%progbits
 116              		.align	1
 117              		.global	settings_save
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 121              		.fpu softvfp
 123              	settings_save:
 124              	.LVL15:
 125              	.LFB68:
 208:../../settings.c **** 
 209:../../settings.c **** void settings_reset(void)
 210:../../settings.c **** {
 211:../../settings.c **** 	const uint8_t size = sizeof(settings_t);
 212:../../settings.c ****     uint8_t* __ptr = (uint8_t*)&g_settings;
 213:../../settings.c ****     rom_memcpy(&g_settings, &default_settings, size);
 214:../../settings.c ****     settings_save(SETTINGS_ADDRESS_OFFSET, (const uint8_t*)&g_settings, size);
 215:../../settings.c **** 
 216:../../settings.c ****     //fix step invert mask to match mirror step pins
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 7


 217:../../settings.c ****     #ifdef ENABLE_DUAL_DRIVE_AXIS
 218:../../settings.c ****     #ifdef DUAL_DRIVE_AXIS0
 219:../../settings.c ****     g_settings.step_invert_mask |= (g_settings.step_invert_mask & STEP_DUAL0) ? 64 : 0;
 220:../../settings.c ****     #endif
 221:../../settings.c ****     #ifdef DUAL_DRIVE_AXIS1
 222:../../settings.c ****     g_settings.step_invert_mask |= (g_settings.step_invert_mask & STEP_DUAL1) ? 128 : 0;
 223:../../settings.c ****     #endif
 224:../../settings.c ****     #endif
 225:../../settings.c **** }
 226:../../settings.c **** 
 227:../../settings.c **** void settings_save(uint16_t address, const uint8_t* __ptr, uint8_t size)
 228:../../settings.c **** {
 126              		.loc 1 228 1 is_stmt 1 view -0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130              		.loc 1 228 1 is_stmt 0 view .LVU29
 131 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 132              	.LCFI1:
 133              		.cfi_def_cfa_offset 24
 134              		.cfi_offset 4, -24
 135              		.cfi_offset 5, -20
 136              		.cfi_offset 6, -16
 137              		.cfi_offset 7, -12
 138              		.cfi_offset 8, -8
 139              		.cfi_offset 14, -4
 140 0004 0746     		mov	r7, r0
 141 0006 8846     		mov	r8, r1
 142 0008 1446     		mov	r4, r2
 229:../../settings.c ****     uint8_t crc = 0;
 143              		.loc 1 229 5 is_stmt 1 view .LVU30
 144              	.LVL16:
 230:../../settings.c **** 
 231:../../settings.c ****     #ifdef ENABLE_DUAL_DRIVE_AXIS
 232:../../settings.c ****     uint8_t temp_step_inv_mask = g_settings.step_invert_mask;
 233:../../settings.c ****     g_settings.step_invert_mask &= 63; //sets cloned axis to 0
 234:../../settings.c ****     #endif
 235:../../settings.c **** 
 236:../../settings.c ****     while (size)
 145              		.loc 1 236 5 view .LVU31
 229:../../settings.c ****     uint8_t crc = 0;
 146              		.loc 1 229 13 is_stmt 0 view .LVU32
 147 000a 0025     		movs	r5, #0
 148              		.loc 1 236 11 view .LVU33
 149 000c 0EE0     		b	.L9
 150              	.LVL17:
 151              	.L14:
 237:../../settings.c ****     {
 238:../../settings.c ****     	if(cnc_get_exec_state(EXEC_RUN))
 239:../../settings.c ****     	{
 240:../../settings.c ****     		cnc_doevents(); //updates buffer before cycling
 152              		.loc 1 240 7 is_stmt 1 view .LVU34
 153 000e FFF7FEFF 		bl	cnc_doevents
 154              	.LVL18:
 155              	.L10:
 241:../../settings.c **** 		}
 242:../../settings.c ****     	
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 8


 243:../../settings.c ****         size--;
 156              		.loc 1 243 9 view .LVU35
 157              		.loc 1 243 13 is_stmt 0 view .LVU36
 158 0012 013C     		subs	r4, r4, #1
 159              	.LVL19:
 160              		.loc 1 243 13 view .LVU37
 161 0014 E4B2     		uxtb	r4, r4
 162              	.LVL20:
 244:../../settings.c **** #ifndef CRC_WITHOUT_LOOKUP_TABLE
 245:../../settings.c ****         crc = rom_read_byte(&crc7_table[*__ptr ^ crc]);
 163              		.loc 1 245 9 is_stmt 1 view .LVU38
 164              		.loc 1 245 41 is_stmt 0 view .LVU39
 165 0016 18F8011B 		ldrb	r1, [r8], #1	@ zero_extendqisi2
 166              	.LVL21:
 167              		.loc 1 245 48 view .LVU40
 168 001a 4D40     		eors	r5, r5, r1
 169              	.LVL22:
 170              		.loc 1 245 13 view .LVU41
 171 001c 0A4B     		ldr	r3, .L15
 172 001e 5D5D     		ldrb	r5, [r3, r5]	@ zero_extendqisi2
 173              	.LVL23:
 246:../../settings.c **** #else
 247:../../settings.c ****         crc = crc7(*__ptr, crc);
 248:../../settings.c **** #endif
 249:../../settings.c ****         mcu_eeprom_putc(address++, *(__ptr++));
 174              		.loc 1 249 9 is_stmt 1 view .LVU42
 175 0020 7E1C     		adds	r6, r7, #1
 176 0022 B6B2     		uxth	r6, r6
 177              	.LVL24:
 178              		.loc 1 249 9 is_stmt 0 view .LVU43
 179 0024 3846     		mov	r0, r7
 180 0026 FFF7FEFF 		bl	mcu_eeprom_putc
 181              	.LVL25:
 182 002a 3746     		mov	r7, r6
 183              	.LVL26:
 184              	.L9:
 236:../../settings.c ****     {
 185              		.loc 1 236 11 is_stmt 1 view .LVU44
 186 002c 2CB1     		cbz	r4, .L13
 238:../../settings.c ****     	{
 187              		.loc 1 238 6 view .LVU45
 238:../../settings.c ****     	{
 188              		.loc 1 238 9 is_stmt 0 view .LVU46
 189 002e 0120     		movs	r0, #1
 190 0030 FFF7FEFF 		bl	cnc_get_exec_state
 191              	.LVL27:
 238:../../settings.c ****     	{
 192              		.loc 1 238 8 view .LVU47
 193 0034 0028     		cmp	r0, #0
 194 0036 ECD0     		beq	.L10
 195 0038 E9E7     		b	.L14
 196              	.L13:
 250:../../settings.c ****     }
 251:../../settings.c **** 
 252:../../settings.c ****     mcu_eeprom_putc(address, crc);
 197              		.loc 1 252 5 is_stmt 1 view .LVU48
 198 003a 2946     		mov	r1, r5
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 9


 199 003c 3846     		mov	r0, r7
 200 003e FFF7FEFF 		bl	mcu_eeprom_putc
 201              	.LVL28:
 253:../../settings.c **** 
 254:../../settings.c ****     #ifdef ENABLE_DUAL_DRIVE_AXIS
 255:../../settings.c ****     g_settings.step_invert_mask = temp_step_inv_mask; //restores setting
 256:../../settings.c ****     #endif
 257:../../settings.c **** }
 202              		.loc 1 257 1 is_stmt 0 view .LVU49
 203 0042 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 204              	.LVL29:
 205              	.L16:
 206              		.loc 1 257 1 view .LVU50
 207 0046 00BF     		.align	2
 208              	.L15:
 209 0048 00000000 		.word	.LANCHOR0
 210              		.cfi_endproc
 211              	.LFE68:
 213              		.section	.text.settings_reset,"ax",%progbits
 214              		.align	1
 215              		.global	settings_reset
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu softvfp
 221              	settings_reset:
 222              	.LFB67:
 210:../../settings.c **** 	const uint8_t size = sizeof(settings_t);
 223              		.loc 1 210 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227 0000 38B5     		push	{r3, r4, r5, lr}
 228              	.LCFI2:
 229              		.cfi_def_cfa_offset 16
 230              		.cfi_offset 3, -16
 231              		.cfi_offset 4, -12
 232              		.cfi_offset 5, -8
 233              		.cfi_offset 14, -4
 211:../../settings.c ****     uint8_t* __ptr = (uint8_t*)&g_settings;
 234              		.loc 1 211 2 view .LVU52
 235              	.LVL30:
 212:../../settings.c ****     rom_memcpy(&g_settings, &default_settings, size);
 236              		.loc 1 212 5 view .LVU53
 213:../../settings.c ****     settings_save(SETTINGS_ADDRESS_OFFSET, (const uint8_t*)&g_settings, size);
 237              		.loc 1 213 5 view .LVU54
 238 0002 064C     		ldr	r4, .L19
 239 0004 6425     		movs	r5, #100
 240 0006 2A46     		mov	r2, r5
 241 0008 0549     		ldr	r1, .L19+4
 242 000a 2046     		mov	r0, r4
 243 000c FFF7FEFF 		bl	memcpy
 244              	.LVL31:
 214:../../settings.c **** 
 245              		.loc 1 214 5 view .LVU55
 246 0010 2A46     		mov	r2, r5
 247 0012 2146     		mov	r1, r4
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 10


 248 0014 0020     		movs	r0, #0
 249 0016 FFF7FEFF 		bl	settings_save
 250              	.LVL32:
 225:../../settings.c **** 
 251              		.loc 1 225 1 is_stmt 0 view .LVU56
 252 001a 38BD     		pop	{r3, r4, r5, pc}
 253              	.L20:
 254              		.align	2
 255              	.L19:
 256 001c 00000000 		.word	g_settings
 257 0020 00000000 		.word	.LANCHOR1
 258              		.cfi_endproc
 259              	.LFE67:
 261              		.section	.rodata.settings_init.str1.4,"aMS",%progbits,1
 262              		.align	2
 263              	.LC0:
 264 0000 56303100 		.ascii	"V01\000"
 265              		.section	.text.settings_init,"ax",%progbits
 266              		.align	1
 267              		.global	settings_init
 268              		.syntax unified
 269              		.thumb
 270              		.thumb_func
 271              		.fpu softvfp
 273              	settings_init:
 274              	.LFB65:
 156:../../settings.c ****     const char version[3] = SETTINGS_VERSION;
 275              		.loc 1 156 1 is_stmt 1 view -0
 276              		.cfi_startproc
 277              		@ args = 0, pretend = 0, frame = 8
 278              		@ frame_needed = 0, uses_anonymous_args = 0
 279 0000 10B5     		push	{r4, lr}
 280              	.LCFI3:
 281              		.cfi_def_cfa_offset 8
 282              		.cfi_offset 4, -8
 283              		.cfi_offset 14, -4
 284 0002 82B0     		sub	sp, sp, #8
 285              	.LCFI4:
 286              		.cfi_def_cfa_offset 16
 157:../../settings.c **** 	uint8_t error = settings_load(SETTINGS_ADDRESS_OFFSET, (uint8_t*) &g_settings, (uint8_t)sizeof(set
 287              		.loc 1 157 5 view .LVU58
 157:../../settings.c **** 	uint8_t error = settings_load(SETTINGS_ADDRESS_OFFSET, (uint8_t*) &g_settings, (uint8_t)sizeof(set
 288              		.loc 1 157 16 is_stmt 0 view .LVU59
 289 0004 144B     		ldr	r3, .L31
 290 0006 1B68     		ldr	r3, [r3]
 291 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
 292 000c 1B0C     		lsrs	r3, r3, #16
 293 000e 8DF80630 		strb	r3, [sp, #6]
 158:../../settings.c **** 
 294              		.loc 1 158 2 is_stmt 1 view .LVU60
 158:../../settings.c **** 
 295              		.loc 1 158 18 is_stmt 0 view .LVU61
 296 0012 6422     		movs	r2, #100
 297 0014 1149     		ldr	r1, .L31+4
 298 0016 0020     		movs	r0, #0
 299 0018 FFF7FEFF 		bl	settings_load
 300              	.LVL33:
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 11


 160:../../settings.c ****     {
 301              		.loc 1 160 5 is_stmt 1 view .LVU62
 160:../../settings.c ****     {
 302              		.loc 1 160 7 is_stmt 0 view .LVU63
 303 001c 0446     		mov	r4, r0
 304 001e 80B1     		cbz	r0, .L26
 305              	.L23:
 306              	.LVL34:
 172:../../settings.c ****     {
 307              		.loc 1 172 5 is_stmt 1 view .LVU64
 172:../../settings.c ****     {
 308              		.loc 1 172 7 is_stmt 0 view .LVU65
 309 0020 8CB9     		cbnz	r4, .L29
 310              	.L21:
 178:../../settings.c **** 
 311              		.loc 1 178 1 view .LVU66
 312 0022 02B0     		add	sp, sp, #8
 313              	.LCFI5:
 314              		.cfi_remember_state
 315              		.cfi_def_cfa_offset 8
 316              		@ sp needed
 317 0024 10BD     		pop	{r4, pc}
 318              	.LVL35:
 319              	.L30:
 320              	.LCFI6:
 321              		.cfi_restore_state
 322              	.LBB3:
 162:../../settings.c ****         {
 323              		.loc 1 162 35 is_stmt 1 discriminator 2 view .LVU67
 162:../../settings.c ****         {
 324              		.loc 1 162 36 is_stmt 0 discriminator 2 view .LVU68
 325 0026 0133     		adds	r3, r3, #1
 326              	.LVL36:
 162:../../settings.c ****         {
 327              		.loc 1 162 36 discriminator 2 view .LVU69
 328 0028 DBB2     		uxtb	r3, r3
 329              	.LVL37:
 330              	.L22:
 162:../../settings.c ****         {
 331              		.loc 1 162 28 is_stmt 1 discriminator 1 view .LVU70
 162:../../settings.c ****         {
 332              		.loc 1 162 9 is_stmt 0 discriminator 1 view .LVU71
 333 002a 022B     		cmp	r3, #2
 334 002c F8D8     		bhi	.L23
 164:../../settings.c ****             {
 335              		.loc 1 164 13 is_stmt 1 view .LVU72
 164:../../settings.c ****             {
 336              		.loc 1 164 34 is_stmt 0 view .LVU73
 337 002e 0B4A     		ldr	r2, .L31+4
 338 0030 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 164:../../settings.c ****             {
 339              		.loc 1 164 48 view .LVU74
 340 0032 02AA     		add	r2, sp, #8
 341 0034 1A44     		add	r2, r2, r3
 342 0036 12F8042C 		ldrb	r2, [r2, #-4]	@ zero_extendqisi2
 164:../../settings.c ****             {
 343              		.loc 1 164 15 view .LVU75
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 12


 344 003a 9142     		cmp	r1, r2
 345 003c F3D0     		beq	.L30
 166:../../settings.c ****                 break;
 346              		.loc 1 166 23 view .LVU76
 347 003e 0124     		movs	r4, #1
 348 0040 EEE7     		b	.L23
 349              	.LVL38:
 350              	.L26:
 162:../../settings.c ****         {
 351              		.loc 1 162 21 view .LVU77
 352 0042 0346     		mov	r3, r0
 353 0044 F1E7     		b	.L22
 354              	.LVL39:
 355              	.L29:
 162:../../settings.c ****         {
 356              		.loc 1 162 21 view .LVU78
 357              	.LBE3:
 174:../../settings.c ****         protocol_send_error(STATUS_SETTING_READ_FAIL);
 358              		.loc 1 174 9 is_stmt 1 view .LVU79
 359 0046 FFF7FEFF 		bl	settings_reset
 360              	.LVL40:
 175:../../settings.c ****         protocol_send_ucnc_settings();
 361              		.loc 1 175 9 view .LVU80
 362 004a 0720     		movs	r0, #7
 363 004c FFF7FEFF 		bl	protocol_send_error
 364              	.LVL41:
 176:../../settings.c ****     }
 365              		.loc 1 176 9 view .LVU81
 366 0050 FFF7FEFF 		bl	protocol_send_ucnc_settings
 367              	.LVL42:
 178:../../settings.c **** 
 368              		.loc 1 178 1 is_stmt 0 view .LVU82
 369 0054 E5E7     		b	.L21
 370              	.L32:
 371 0056 00BF     		.align	2
 372              	.L31:
 373 0058 00000000 		.word	.LC0
 374 005c 00000000 		.word	g_settings
 375              		.cfi_endproc
 376              	.LFE65:
 378              		.global	__aeabi_f2uiz
 379              		.global	__aeabi_fcmpeq
 380              		.global	__aeabi_fcmplt
 381              		.global	__aeabi_fcmpgt
 382              		.section	.text.settings_change,"ax",%progbits
 383              		.align	1
 384              		.global	settings_change
 385              		.syntax unified
 386              		.thumb
 387              		.thumb_func
 388              		.fpu softvfp
 390              	settings_change:
 391              	.LVL43:
 392              	.LFB69:
 258:../../settings.c **** 
 259:../../settings.c **** uint8_t settings_change(uint8_t setting, float value)
 260:../../settings.c **** {
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 13


 393              		.loc 1 260 1 is_stmt 1 view -0
 394              		.cfi_startproc
 395              		@ args = 0, pretend = 0, frame = 0
 396              		@ frame_needed = 0, uses_anonymous_args = 0
 397              		.loc 1 260 1 is_stmt 0 view .LVU84
 398 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 399              	.LCFI7:
 400              		.cfi_def_cfa_offset 24
 401              		.cfi_offset 4, -24
 402              		.cfi_offset 5, -20
 403              		.cfi_offset 6, -16
 404              		.cfi_offset 7, -12
 405              		.cfi_offset 8, -8
 406              		.cfi_offset 14, -4
 407 0004 0646     		mov	r6, r0
 408 0006 0C46     		mov	r4, r1
 261:../../settings.c ****     uint8_t result = 0;
 409              		.loc 1 261 5 is_stmt 1 view .LVU85
 410              	.LVL44:
 262:../../settings.c ****     uint8_t value8 = (uint8_t)value;
 411              		.loc 1 262 5 view .LVU86
 412              		.loc 1 262 13 is_stmt 0 view .LVU87
 413 0008 0846     		mov	r0, r1
 414              	.LVL45:
 415              		.loc 1 262 13 view .LVU88
 416 000a FFF7FEFF 		bl	__aeabi_f2uiz
 417              	.LVL46:
 418              		.loc 1 262 13 view .LVU89
 419 000e 0546     		mov	r5, r0
 420 0010 5FFA80F8 		uxtb	r8, r0
 421              	.LVL47:
 263:../../settings.c ****     uint8_t value16 = (uint16_t)value;
 422              		.loc 1 263 5 is_stmt 1 view .LVU90
 423              		.loc 1 263 23 is_stmt 0 view .LVU91
 424 0014 ADB2     		uxth	r5, r5
 425              	.LVL48:
 264:../../settings.c ****     bool value1 = (value!=0);
 426              		.loc 1 264 5 is_stmt 1 view .LVU92
 427              		.loc 1 264 10 is_stmt 0 view .LVU93
 428 0016 4FF00107 		mov	r7, #1
 429 001a 0021     		movs	r1, #0
 430 001c 2046     		mov	r0, r4
 431 001e FFF7FEFF 		bl	__aeabi_fcmpeq
 432              	.LVL49:
 433 0022 08B1     		cbz	r0, .L34
 434 0024 4FF00007 		mov	r7, #0
 435              	.L34:
 436 0028 FFB2     		uxtb	r7, r7
 437              	.LVL50:
 265:../../settings.c **** 
 266:../../settings.c ****     if(value < 0)
 438              		.loc 1 266 5 is_stmt 1 view .LVU94
 439              		.loc 1 266 7 is_stmt 0 view .LVU95
 440 002a 0021     		movs	r1, #0
 441 002c 2046     		mov	r0, r4
 442 002e FFF7FEFF 		bl	__aeabi_fcmplt
 443              	.LVL51:
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 14


 444 0032 0028     		cmp	r0, #0
 445 0034 40F0BD80 		bne	.L69
 267:../../settings.c ****     {
 268:../../settings.c ****         return STATUS_NEGATIVE_VALUE;
 269:../../settings.c ****     }
 270:../../settings.c **** 
 271:../../settings.c ****     switch(setting)
 446              		.loc 1 271 5 is_stmt 1 view .LVU96
 447 0038 842E     		cmp	r6, #132
 448 003a 00F2BC80 		bhi	.L70
 449 003e DFE806F0 		tbb	[pc, r6]
 450              	.L37:
 451 0042 43       		.byte	(.L67-.L37)/2
 452 0043 BA       		.byte	(.L70-.L37)/2
 453 0044 4D       		.byte	(.L66-.L37)/2
 454 0045 58       		.byte	(.L65-.L37)/2
 455 0046 5C       		.byte	(.L64-.L37)/2
 456 0047 5F       		.byte	(.L63-.L37)/2
 457 0048 63       		.byte	(.L62-.L37)/2
 458 0049 66       		.byte	(.L61-.L37)/2
 459 004a BA       		.byte	(.L70-.L37)/2
 460 004b BA       		.byte	(.L70-.L37)/2
 461 004c 6A       		.byte	(.L60-.L37)/2
 462 004d BA       		.byte	(.L70-.L37)/2
 463 004e 6E       		.byte	(.L59-.L37)/2
 464 004f 71       		.byte	(.L58-.L37)/2
 465 0050 BA       		.byte	(.L70-.L37)/2
 466 0051 BA       		.byte	(.L70-.L37)/2
 467 0052 BA       		.byte	(.L70-.L37)/2
 468 0053 BA       		.byte	(.L70-.L37)/2
 469 0054 BA       		.byte	(.L70-.L37)/2
 470 0055 BA       		.byte	(.L70-.L37)/2
 471 0056 74       		.byte	(.L57-.L37)/2
 472 0057 7B       		.byte	(.L56-.L37)/2
 473 0058 7E       		.byte	(.L55-.L37)/2
 474 0059 81       		.byte	(.L54-.L37)/2
 475 005a 85       		.byte	(.L53-.L37)/2
 476 005b 88       		.byte	(.L52-.L37)/2
 477 005c BA       		.byte	(.L70-.L37)/2
 478 005d 8B       		.byte	(.L51-.L37)/2
 479 005e BA       		.byte	(.L70-.L37)/2
 480 005f BA       		.byte	(.L70-.L37)/2
 481 0060 8E       		.byte	(.L50-.L37)/2
 482 0061 91       		.byte	(.L49-.L37)/2
 483 0062 BA       		.byte	(.L70-.L37)/2
 484 0063 BA       		.byte	(.L70-.L37)/2
 485 0064 BA       		.byte	(.L70-.L37)/2
 486 0065 BA       		.byte	(.L70-.L37)/2
 487 0066 BA       		.byte	(.L70-.L37)/2
 488 0067 BA       		.byte	(.L70-.L37)/2
 489 0068 BA       		.byte	(.L70-.L37)/2
 490 0069 BA       		.byte	(.L70-.L37)/2
 491 006a BA       		.byte	(.L70-.L37)/2
 492 006b BA       		.byte	(.L70-.L37)/2
 493 006c BA       		.byte	(.L70-.L37)/2
 494 006d BA       		.byte	(.L70-.L37)/2
 495 006e BA       		.byte	(.L70-.L37)/2
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 15


 496 006f BA       		.byte	(.L70-.L37)/2
 497 0070 BA       		.byte	(.L70-.L37)/2
 498 0071 BA       		.byte	(.L70-.L37)/2
 499 0072 BA       		.byte	(.L70-.L37)/2
 500 0073 BA       		.byte	(.L70-.L37)/2
 501 0074 BA       		.byte	(.L70-.L37)/2
 502 0075 BA       		.byte	(.L70-.L37)/2
 503 0076 BA       		.byte	(.L70-.L37)/2
 504 0077 BA       		.byte	(.L70-.L37)/2
 505 0078 BA       		.byte	(.L70-.L37)/2
 506 0079 BA       		.byte	(.L70-.L37)/2
 507 007a BA       		.byte	(.L70-.L37)/2
 508 007b BA       		.byte	(.L70-.L37)/2
 509 007c BA       		.byte	(.L70-.L37)/2
 510 007d BA       		.byte	(.L70-.L37)/2
 511 007e BA       		.byte	(.L70-.L37)/2
 512 007f BA       		.byte	(.L70-.L37)/2
 513 0080 BA       		.byte	(.L70-.L37)/2
 514 0081 BA       		.byte	(.L70-.L37)/2
 515 0082 BA       		.byte	(.L70-.L37)/2
 516 0083 BA       		.byte	(.L70-.L37)/2
 517 0084 BA       		.byte	(.L70-.L37)/2
 518 0085 BA       		.byte	(.L70-.L37)/2
 519 0086 BA       		.byte	(.L70-.L37)/2
 520 0087 BA       		.byte	(.L70-.L37)/2
 521 0088 BA       		.byte	(.L70-.L37)/2
 522 0089 BA       		.byte	(.L70-.L37)/2
 523 008a BA       		.byte	(.L70-.L37)/2
 524 008b BA       		.byte	(.L70-.L37)/2
 525 008c BA       		.byte	(.L70-.L37)/2
 526 008d BA       		.byte	(.L70-.L37)/2
 527 008e BA       		.byte	(.L70-.L37)/2
 528 008f BA       		.byte	(.L70-.L37)/2
 529 0090 BA       		.byte	(.L70-.L37)/2
 530 0091 BA       		.byte	(.L70-.L37)/2
 531 0092 BA       		.byte	(.L70-.L37)/2
 532 0093 BA       		.byte	(.L70-.L37)/2
 533 0094 BA       		.byte	(.L70-.L37)/2
 534 0095 BA       		.byte	(.L70-.L37)/2
 535 0096 BA       		.byte	(.L70-.L37)/2
 536 0097 BA       		.byte	(.L70-.L37)/2
 537 0098 BA       		.byte	(.L70-.L37)/2
 538 0099 BA       		.byte	(.L70-.L37)/2
 539 009a BA       		.byte	(.L70-.L37)/2
 540 009b BA       		.byte	(.L70-.L37)/2
 541 009c BA       		.byte	(.L70-.L37)/2
 542 009d BA       		.byte	(.L70-.L37)/2
 543 009e BA       		.byte	(.L70-.L37)/2
 544 009f BA       		.byte	(.L70-.L37)/2
 545 00a0 BA       		.byte	(.L70-.L37)/2
 546 00a1 BA       		.byte	(.L70-.L37)/2
 547 00a2 BA       		.byte	(.L70-.L37)/2
 548 00a3 BA       		.byte	(.L70-.L37)/2
 549 00a4 BA       		.byte	(.L70-.L37)/2
 550 00a5 BA       		.byte	(.L70-.L37)/2
 551 00a6 94       		.byte	(.L48-.L37)/2
 552 00a7 A0       		.byte	(.L47-.L37)/2
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 16


 553 00a8 AC       		.byte	(.L46-.L37)/2
 554 00a9 BA       		.byte	(.L70-.L37)/2
 555 00aa BA       		.byte	(.L70-.L37)/2
 556 00ab BA       		.byte	(.L70-.L37)/2
 557 00ac BA       		.byte	(.L70-.L37)/2
 558 00ad BA       		.byte	(.L70-.L37)/2
 559 00ae BA       		.byte	(.L70-.L37)/2
 560 00af BA       		.byte	(.L70-.L37)/2
 561 00b0 97       		.byte	(.L45-.L37)/2
 562 00b1 A3       		.byte	(.L44-.L37)/2
 563 00b2 AF       		.byte	(.L43-.L37)/2
 564 00b3 BA       		.byte	(.L70-.L37)/2
 565 00b4 BA       		.byte	(.L70-.L37)/2
 566 00b5 BA       		.byte	(.L70-.L37)/2
 567 00b6 BA       		.byte	(.L70-.L37)/2
 568 00b7 BA       		.byte	(.L70-.L37)/2
 569 00b8 BA       		.byte	(.L70-.L37)/2
 570 00b9 BA       		.byte	(.L70-.L37)/2
 571 00ba 9A       		.byte	(.L42-.L37)/2
 572 00bb A6       		.byte	(.L41-.L37)/2
 573 00bc B2       		.byte	(.L40-.L37)/2
 574 00bd BA       		.byte	(.L70-.L37)/2
 575 00be BA       		.byte	(.L70-.L37)/2
 576 00bf BA       		.byte	(.L70-.L37)/2
 577 00c0 BA       		.byte	(.L70-.L37)/2
 578 00c1 BA       		.byte	(.L70-.L37)/2
 579 00c2 BA       		.byte	(.L70-.L37)/2
 580 00c3 BA       		.byte	(.L70-.L37)/2
 581 00c4 9D       		.byte	(.L39-.L37)/2
 582 00c5 A9       		.byte	(.L38-.L37)/2
 583 00c6 B5       		.byte	(.L36-.L37)/2
 584 00c7 00       		.p2align 1
 585              	.L67:
 272:../../settings.c ****     {
 273:../../settings.c ****         case 0:
 274:../../settings.c ****             if(value > F_STEP_MAX)
 586              		.loc 1 274 13 view .LVU97
 587              		.loc 1 274 15 is_stmt 0 view .LVU98
 588 00c8 3E49     		ldr	r1, .L74
 589 00ca 2046     		mov	r0, r4
 590 00cc FFF7FEFF 		bl	__aeabi_fcmpgt
 591              	.LVL52:
 592 00d0 0028     		cmp	r0, #0
 593 00d2 72D1     		bne	.L71
 275:../../settings.c ****             {
 276:../../settings.c ****                 return STATUS_MAX_STEP_RATE_EXCEEDED;
 277:../../settings.c ****             }
 278:../../settings.c ****             g_settings.max_step_rate = value16;
 594              		.loc 1 278 13 is_stmt 1 view .LVU99
 595              		.loc 1 278 38 is_stmt 0 view .LVU100
 596 00d4 EDB2     		uxtb	r5, r5
 597              		.loc 1 278 38 view .LVU101
 598 00d6 3C4B     		ldr	r3, .L74+4
 599 00d8 9D80     		strh	r5, [r3, #4]	@ movhi
 279:../../settings.c ****             break;
 600              		.loc 1 279 13 is_stmt 1 view .LVU102
 601 00da 02E0     		b	.L68
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 17


 602              	.L66:
 280:../../settings.c ****         case 2:
 281:../../settings.c ****             g_settings.step_invert_mask = value8;
 603              		.loc 1 281 13 view .LVU103
 604              		.loc 1 281 41 is_stmt 0 view .LVU104
 605 00dc 3A4B     		ldr	r3, .L74+4
 606 00de 83F80680 		strb	r8, [r3, #6]
 282:../../settings.c ****             break;
 607              		.loc 1 282 13 is_stmt 1 view .LVU105
 608              	.LVL53:
 609              	.L68:
 283:../../settings.c ****         case 3:
 284:../../settings.c ****             g_settings.dir_invert_mask = value8;
 285:../../settings.c ****             break;
 286:../../settings.c ****         case 4:
 287:../../settings.c ****             g_settings.step_enable_invert = value1;
 288:../../settings.c ****             break;
 289:../../settings.c ****         case 5:
 290:../../settings.c ****             g_settings.limits_invert_mask = value8;
 291:../../settings.c ****             break;
 292:../../settings.c ****         case 6:
 293:../../settings.c ****             g_settings.probe_invert_mask = value1;
 294:../../settings.c ****             break;
 295:../../settings.c ****         case 7:
 296:../../settings.c ****             g_settings.control_invert_mask = value8;
 297:../../settings.c ****             break;
 298:../../settings.c ****         case 10:
 299:../../settings.c ****             g_settings.status_report_mask = value8;
 300:../../settings.c ****             break;
 301:../../settings.c ****         case 12:
 302:../../settings.c ****             g_settings.arc_tolerance = value;
 303:../../settings.c ****             break;
 304:../../settings.c ****         case 13:
 305:../../settings.c ****             g_settings.report_inches = value;
 306:../../settings.c ****             break;
 307:../../settings.c ****         case 20:
 308:../../settings.c ****             if(!g_settings.homing_enabled)
 309:../../settings.c ****             {
 310:../../settings.c ****                 return STATUS_SOFT_LIMIT_ERROR;
 311:../../settings.c ****             }
 312:../../settings.c ****             g_settings.soft_limits_enabled = value1;
 313:../../settings.c ****             break;
 314:../../settings.c ****         case 21:
 315:../../settings.c ****             g_settings.hard_limits_enabled = value1;
 316:../../settings.c ****             break;
 317:../../settings.c ****         case 22:
 318:../../settings.c ****             g_settings.homing_enabled = value1;
 319:../../settings.c ****             break;
 320:../../settings.c ****         case 23:
 321:../../settings.c ****             g_settings.homing_dir_invert_mask = value8;
 322:../../settings.c ****             break;
 323:../../settings.c ****         case 24:
 324:../../settings.c ****             g_settings.homing_slow_feed_rate = value;
 325:../../settings.c ****             break;
 326:../../settings.c ****         case 25:
 327:../../settings.c ****             g_settings.homing_fast_feed_rate = value;
 328:../../settings.c ****             break;
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 18


 329:../../settings.c ****         case 27:
 330:../../settings.c ****             g_settings.homing_offset = value;
 331:../../settings.c ****             break;
 332:../../settings.c ****         case 30:
 333:../../settings.c ****             g_settings.spindle_max_rpm = value;
 334:../../settings.c ****             break;
 335:../../settings.c ****         case 31:
 336:../../settings.c ****             g_settings.spindle_min_rpm = value;
 337:../../settings.c ****             break;
 338:../../settings.c **** #if(AXIS_COUNT > 0)
 339:../../settings.c ****         case 100:
 340:../../settings.c ****             g_settings.step_per_mm[0] = value;
 341:../../settings.c ****             break;
 342:../../settings.c ****         case 110:
 343:../../settings.c ****             g_settings.max_feed_rate[0] = value;
 344:../../settings.c ****             break;
 345:../../settings.c ****         case 120:
 346:../../settings.c ****             g_settings.acceleration[0] = value;
 347:../../settings.c ****             break;
 348:../../settings.c ****         case 130:
 349:../../settings.c ****             g_settings.max_distance[0] = value;
 350:../../settings.c ****             break;
 351:../../settings.c **** #endif
 352:../../settings.c **** #if(AXIS_COUNT > 1)
 353:../../settings.c ****         case 101:
 354:../../settings.c ****             g_settings.step_per_mm[1] = value;
 355:../../settings.c ****             break;
 356:../../settings.c ****         case 111:
 357:../../settings.c ****             g_settings.max_feed_rate[1] = value;
 358:../../settings.c ****             break;
 359:../../settings.c ****         case 121:
 360:../../settings.c ****             g_settings.acceleration[1] = value;
 361:../../settings.c ****             break;
 362:../../settings.c ****         case 131:
 363:../../settings.c ****             g_settings.max_distance[1] = value;
 364:../../settings.c ****             break;
 365:../../settings.c **** #endif
 366:../../settings.c **** #if(AXIS_COUNT > 2)
 367:../../settings.c ****         case 102:
 368:../../settings.c ****             g_settings.step_per_mm[2] = value;
 369:../../settings.c ****             break;
 370:../../settings.c ****         case 112:
 371:../../settings.c ****             g_settings.max_feed_rate[2] = value;
 372:../../settings.c ****             break;
 373:../../settings.c ****         case 122:
 374:../../settings.c ****             g_settings.acceleration[2] = value;
 375:../../settings.c ****             break;
 376:../../settings.c ****         case 132:
 377:../../settings.c ****             g_settings.max_distance[2] = value;
 378:../../settings.c ****             break;
 379:../../settings.c **** #endif
 380:../../settings.c **** #if(AXIS_COUNT > 3)
 381:../../settings.c ****         case 103:
 382:../../settings.c ****             g_settings.step_per_mm[3] = value;
 383:../../settings.c ****             break;
 384:../../settings.c ****         case 113:
 385:../../settings.c ****             g_settings.max_feed_rate[3] = value;
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 19


 386:../../settings.c ****             break;
 387:../../settings.c ****         case 123:
 388:../../settings.c ****             g_settings.acceleration[3] = value;
 389:../../settings.c ****             break;
 390:../../settings.c ****         case 133:
 391:../../settings.c ****             g_settings.max_distance[3] = value;
 392:../../settings.c ****             break;
 393:../../settings.c **** #endif
 394:../../settings.c **** #if(AXIS_COUNT > 4)
 395:../../settings.c ****         case 104:
 396:../../settings.c ****             g_settings.step_per_mm[4] = value;
 397:../../settings.c ****             break;
 398:../../settings.c ****         case 114:
 399:../../settings.c ****             g_settings.max_feed_rate[4] = value;
 400:../../settings.c ****             break;
 401:../../settings.c ****         case 124:
 402:../../settings.c ****             g_settings.acceleration[4] = value;
 403:../../settings.c ****             break;
 404:../../settings.c ****         case 134:
 405:../../settings.c ****             g_settings.max_distance[4] = value;
 406:../../settings.c ****             break;
 407:../../settings.c **** #endif
 408:../../settings.c **** #if(AXIS_COUNT > 5)
 409:../../settings.c ****         case 105:
 410:../../settings.c ****             g_settings.step_per_mm[5] = value;
 411:../../settings.c ****             break;
 412:../../settings.c ****         case 115:
 413:../../settings.c ****             g_settings.max_feed_rate[5] = value;
 414:../../settings.c ****             break;
 415:../../settings.c ****         case 125:
 416:../../settings.c ****             g_settings.acceleration[5] = value;
 417:../../settings.c ****             break;
 418:../../settings.c ****         case 135:
 419:../../settings.c ****             g_settings.max_distance[5] = value;
 420:../../settings.c ****             break;
 421:../../settings.c **** #endif
 422:../../settings.c ****         default:
 423:../../settings.c ****             return STATUS_INVALID_STATEMENT;
 424:../../settings.c ****     }
 425:../../settings.c **** 
 426:../../settings.c ****     settings_save(SETTINGS_ADDRESS_OFFSET, (const uint8_t*)&g_settings, (uint8_t)sizeof(settings_t)
 610              		.loc 1 426 5 view .LVU106
 611 00e2 6422     		movs	r2, #100
 612 00e4 3849     		ldr	r1, .L74+4
 613 00e6 0020     		movs	r0, #0
 614 00e8 FFF7FEFF 		bl	settings_save
 615              	.LVL54:
 427:../../settings.c **** 
 428:../../settings.c ****     //fix step invert mask to match mirror step pins
 429:../../settings.c ****     #ifdef ENABLE_DUAL_DRIVE_AXIS
 430:../../settings.c ****     #ifdef DUAL_DRIVE_AXIS0
 431:../../settings.c ****     g_settings.step_invert_mask |= (g_settings.step_invert_mask & STEP_DUAL0) ? 64 : 0;
 432:../../settings.c ****     #endif
 433:../../settings.c ****     #ifdef DUAL_DRIVE_AXIS1
 434:../../settings.c ****     g_settings.step_invert_mask |= (g_settings.step_invert_mask & STEP_DUAL1) ? 128 : 0;
 435:../../settings.c ****     #endif
 436:../../settings.c ****     #endif
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 20


 437:../../settings.c ****     
 438:../../settings.c ****     return result;
 616              		.loc 1 438 5 view .LVU107
 617              		.loc 1 438 12 is_stmt 0 view .LVU108
 618 00ec 0020     		movs	r0, #0
 619              	.L35:
 439:../../settings.c **** }
 620              		.loc 1 439 1 view .LVU109
 621 00ee BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 622              	.LVL55:
 623              	.L65:
 284:../../settings.c ****             break;
 624              		.loc 1 284 13 is_stmt 1 view .LVU110
 284:../../settings.c ****             break;
 625              		.loc 1 284 40 is_stmt 0 view .LVU111
 626 00f2 354B     		ldr	r3, .L74+4
 627 00f4 83F80780 		strb	r8, [r3, #7]
 285:../../settings.c ****         case 4:
 628              		.loc 1 285 13 is_stmt 1 view .LVU112
 629 00f8 F3E7     		b	.L68
 630              	.L64:
 287:../../settings.c ****             break;
 631              		.loc 1 287 13 view .LVU113
 287:../../settings.c ****             break;
 632              		.loc 1 287 43 is_stmt 0 view .LVU114
 633 00fa 334B     		ldr	r3, .L74+4
 634 00fc 1F72     		strb	r7, [r3, #8]
 288:../../settings.c ****         case 5:
 635              		.loc 1 288 13 is_stmt 1 view .LVU115
 636 00fe F0E7     		b	.L68
 637              	.L63:
 290:../../settings.c ****             break;
 638              		.loc 1 290 13 view .LVU116
 290:../../settings.c ****             break;
 639              		.loc 1 290 43 is_stmt 0 view .LVU117
 640 0100 314B     		ldr	r3, .L74+4
 641 0102 83F80980 		strb	r8, [r3, #9]
 291:../../settings.c ****         case 6:
 642              		.loc 1 291 13 is_stmt 1 view .LVU118
 643 0106 ECE7     		b	.L68
 644              	.L62:
 293:../../settings.c ****             break;
 645              		.loc 1 293 13 view .LVU119
 293:../../settings.c ****             break;
 646              		.loc 1 293 42 is_stmt 0 view .LVU120
 647 0108 2F4B     		ldr	r3, .L74+4
 648 010a 9F72     		strb	r7, [r3, #10]
 294:../../settings.c ****         case 7:
 649              		.loc 1 294 13 is_stmt 1 view .LVU121
 650 010c E9E7     		b	.L68
 651              	.L61:
 296:../../settings.c ****             break;
 652              		.loc 1 296 13 view .LVU122
 296:../../settings.c ****             break;
 653              		.loc 1 296 44 is_stmt 0 view .LVU123
 654 010e 2E4B     		ldr	r3, .L74+4
 655 0110 83F80C80 		strb	r8, [r3, #12]
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 21


 297:../../settings.c ****         case 10:
 656              		.loc 1 297 13 is_stmt 1 view .LVU124
 657 0114 E5E7     		b	.L68
 658              	.L60:
 299:../../settings.c ****             break;
 659              		.loc 1 299 13 view .LVU125
 299:../../settings.c ****             break;
 660              		.loc 1 299 43 is_stmt 0 view .LVU126
 661 0116 2C4B     		ldr	r3, .L74+4
 662 0118 83F80B80 		strb	r8, [r3, #11]
 300:../../settings.c ****         case 12:
 663              		.loc 1 300 13 is_stmt 1 view .LVU127
 664 011c E1E7     		b	.L68
 665              	.L59:
 302:../../settings.c ****             break;
 666              		.loc 1 302 13 view .LVU128
 302:../../settings.c ****             break;
 667              		.loc 1 302 38 is_stmt 0 view .LVU129
 668 011e 2A4B     		ldr	r3, .L74+4
 669 0120 1C61     		str	r4, [r3, #16]	@ float
 303:../../settings.c ****         case 13:
 670              		.loc 1 303 13 is_stmt 1 view .LVU130
 671 0122 DEE7     		b	.L68
 672              	.L58:
 305:../../settings.c ****             break;
 673              		.loc 1 305 13 view .LVU131
 305:../../settings.c ****             break;
 674              		.loc 1 305 38 is_stmt 0 view .LVU132
 675 0124 284B     		ldr	r3, .L74+4
 676 0126 1F75     		strb	r7, [r3, #20]
 306:../../settings.c ****         case 20:
 677              		.loc 1 306 13 is_stmt 1 view .LVU133
 678 0128 DBE7     		b	.L68
 679              	.L57:
 308:../../settings.c ****             {
 680              		.loc 1 308 13 view .LVU134
 308:../../settings.c ****             {
 681              		.loc 1 308 27 is_stmt 0 view .LVU135
 682 012a 274B     		ldr	r3, .L74+4
 683 012c DB7D     		ldrb	r3, [r3, #23]	@ zero_extendqisi2
 308:../../settings.c ****             {
 684              		.loc 1 308 15 view .LVU136
 685 012e 002B     		cmp	r3, #0
 686 0130 45D0     		beq	.L72
 312:../../settings.c ****             break;
 687              		.loc 1 312 13 is_stmt 1 view .LVU137
 312:../../settings.c ****             break;
 688              		.loc 1 312 44 is_stmt 0 view .LVU138
 689 0132 254B     		ldr	r3, .L74+4
 690 0134 5F75     		strb	r7, [r3, #21]
 313:../../settings.c ****         case 21:
 691              		.loc 1 313 13 is_stmt 1 view .LVU139
 692 0136 D4E7     		b	.L68
 693              	.L56:
 315:../../settings.c ****             break;
 694              		.loc 1 315 13 view .LVU140
 315:../../settings.c ****             break;
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 22


 695              		.loc 1 315 44 is_stmt 0 view .LVU141
 696 0138 234B     		ldr	r3, .L74+4
 697 013a 9F75     		strb	r7, [r3, #22]
 316:../../settings.c ****         case 22:
 698              		.loc 1 316 13 is_stmt 1 view .LVU142
 699 013c D1E7     		b	.L68
 700              	.L55:
 318:../../settings.c ****             break;
 701              		.loc 1 318 13 view .LVU143
 318:../../settings.c ****             break;
 702              		.loc 1 318 39 is_stmt 0 view .LVU144
 703 013e 224B     		ldr	r3, .L74+4
 704 0140 DF75     		strb	r7, [r3, #23]
 319:../../settings.c ****         case 23:
 705              		.loc 1 319 13 is_stmt 1 view .LVU145
 706 0142 CEE7     		b	.L68
 707              	.L54:
 321:../../settings.c ****             break;
 708              		.loc 1 321 13 view .LVU146
 321:../../settings.c ****             break;
 709              		.loc 1 321 47 is_stmt 0 view .LVU147
 710 0144 204B     		ldr	r3, .L74+4
 711 0146 83F81880 		strb	r8, [r3, #24]
 322:../../settings.c ****         case 24:
 712              		.loc 1 322 13 is_stmt 1 view .LVU148
 713 014a CAE7     		b	.L68
 714              	.L53:
 324:../../settings.c ****             break;
 715              		.loc 1 324 13 view .LVU149
 324:../../settings.c ****             break;
 716              		.loc 1 324 46 is_stmt 0 view .LVU150
 717 014c 1E4B     		ldr	r3, .L74+4
 718 014e 1C62     		str	r4, [r3, #32]	@ float
 325:../../settings.c ****         case 25:
 719              		.loc 1 325 13 is_stmt 1 view .LVU151
 720 0150 C7E7     		b	.L68
 721              	.L52:
 327:../../settings.c ****             break;
 722              		.loc 1 327 13 view .LVU152
 327:../../settings.c ****             break;
 723              		.loc 1 327 46 is_stmt 0 view .LVU153
 724 0152 1D4B     		ldr	r3, .L74+4
 725 0154 DC61     		str	r4, [r3, #28]	@ float
 328:../../settings.c ****         case 27:
 726              		.loc 1 328 13 is_stmt 1 view .LVU154
 727 0156 C4E7     		b	.L68
 728              	.L51:
 330:../../settings.c ****             break;
 729              		.loc 1 330 13 view .LVU155
 330:../../settings.c ****             break;
 730              		.loc 1 330 38 is_stmt 0 view .LVU156
 731 0158 1B4B     		ldr	r3, .L74+4
 732 015a 5C62     		str	r4, [r3, #36]	@ float
 331:../../settings.c ****         case 30:
 733              		.loc 1 331 13 is_stmt 1 view .LVU157
 734 015c C1E7     		b	.L68
 735              	.L50:
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 23


 333:../../settings.c ****             break;
 736              		.loc 1 333 13 view .LVU158
 333:../../settings.c ****             break;
 737              		.loc 1 333 40 is_stmt 0 view .LVU159
 738 015e 1A4B     		ldr	r3, .L74+4
 739 0160 9C62     		str	r4, [r3, #40]	@ float
 334:../../settings.c ****         case 31:
 740              		.loc 1 334 13 is_stmt 1 view .LVU160
 741 0162 BEE7     		b	.L68
 742              	.L49:
 336:../../settings.c ****             break;
 743              		.loc 1 336 13 view .LVU161
 336:../../settings.c ****             break;
 744              		.loc 1 336 40 is_stmt 0 view .LVU162
 745 0164 184B     		ldr	r3, .L74+4
 746 0166 DC62     		str	r4, [r3, #44]	@ float
 337:../../settings.c **** #if(AXIS_COUNT > 0)
 747              		.loc 1 337 13 is_stmt 1 view .LVU163
 748 0168 BBE7     		b	.L68
 749              	.L48:
 340:../../settings.c ****             break;
 750              		.loc 1 340 13 view .LVU164
 340:../../settings.c ****             break;
 751              		.loc 1 340 39 is_stmt 0 view .LVU165
 752 016a 174B     		ldr	r3, .L74+4
 753 016c 1C63     		str	r4, [r3, #48]	@ float
 341:../../settings.c ****         case 110:
 754              		.loc 1 341 13 is_stmt 1 view .LVU166
 755 016e B8E7     		b	.L68
 756              	.L45:
 343:../../settings.c ****             break;
 757              		.loc 1 343 13 view .LVU167
 343:../../settings.c ****             break;
 758              		.loc 1 343 41 is_stmt 0 view .LVU168
 759 0170 154B     		ldr	r3, .L74+4
 760 0172 DC63     		str	r4, [r3, #60]	@ float
 344:../../settings.c ****         case 120:
 761              		.loc 1 344 13 is_stmt 1 view .LVU169
 762 0174 B5E7     		b	.L68
 763              	.L42:
 346:../../settings.c ****             break;
 764              		.loc 1 346 13 view .LVU170
 346:../../settings.c ****             break;
 765              		.loc 1 346 40 is_stmt 0 view .LVU171
 766 0176 144B     		ldr	r3, .L74+4
 767 0178 9C64     		str	r4, [r3, #72]	@ float
 347:../../settings.c ****         case 130:
 768              		.loc 1 347 13 is_stmt 1 view .LVU172
 769 017a B2E7     		b	.L68
 770              	.L39:
 349:../../settings.c ****             break;
 771              		.loc 1 349 13 view .LVU173
 349:../../settings.c ****             break;
 772              		.loc 1 349 40 is_stmt 0 view .LVU174
 773 017c 124B     		ldr	r3, .L74+4
 774 017e 5C65     		str	r4, [r3, #84]	@ float
 350:../../settings.c **** #endif
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 24


 775              		.loc 1 350 13 is_stmt 1 view .LVU175
 776 0180 AFE7     		b	.L68
 777              	.L47:
 354:../../settings.c ****             break;
 778              		.loc 1 354 13 view .LVU176
 354:../../settings.c ****             break;
 779              		.loc 1 354 39 is_stmt 0 view .LVU177
 780 0182 114B     		ldr	r3, .L74+4
 781 0184 5C63     		str	r4, [r3, #52]	@ float
 355:../../settings.c ****         case 111:
 782              		.loc 1 355 13 is_stmt 1 view .LVU178
 783 0186 ACE7     		b	.L68
 784              	.L44:
 357:../../settings.c ****             break;
 785              		.loc 1 357 13 view .LVU179
 357:../../settings.c ****             break;
 786              		.loc 1 357 41 is_stmt 0 view .LVU180
 787 0188 0F4B     		ldr	r3, .L74+4
 788 018a 1C64     		str	r4, [r3, #64]	@ float
 358:../../settings.c ****         case 121:
 789              		.loc 1 358 13 is_stmt 1 view .LVU181
 790 018c A9E7     		b	.L68
 791              	.L41:
 360:../../settings.c ****             break;
 792              		.loc 1 360 13 view .LVU182
 360:../../settings.c ****             break;
 793              		.loc 1 360 40 is_stmt 0 view .LVU183
 794 018e 0E4B     		ldr	r3, .L74+4
 795 0190 DC64     		str	r4, [r3, #76]	@ float
 361:../../settings.c ****         case 131:
 796              		.loc 1 361 13 is_stmt 1 view .LVU184
 797 0192 A6E7     		b	.L68
 798              	.L38:
 363:../../settings.c ****             break;
 799              		.loc 1 363 13 view .LVU185
 363:../../settings.c ****             break;
 800              		.loc 1 363 40 is_stmt 0 view .LVU186
 801 0194 0C4B     		ldr	r3, .L74+4
 802 0196 9C65     		str	r4, [r3, #88]	@ float
 364:../../settings.c **** #endif
 803              		.loc 1 364 13 is_stmt 1 view .LVU187
 804 0198 A3E7     		b	.L68
 805              	.L46:
 368:../../settings.c ****             break;
 806              		.loc 1 368 13 view .LVU188
 368:../../settings.c ****             break;
 807              		.loc 1 368 39 is_stmt 0 view .LVU189
 808 019a 0B4B     		ldr	r3, .L74+4
 809 019c 9C63     		str	r4, [r3, #56]	@ float
 369:../../settings.c ****         case 112:
 810              		.loc 1 369 13 is_stmt 1 view .LVU190
 811 019e A0E7     		b	.L68
 812              	.L43:
 371:../../settings.c ****             break;
 813              		.loc 1 371 13 view .LVU191
 371:../../settings.c ****             break;
 814              		.loc 1 371 41 is_stmt 0 view .LVU192
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 25


 815 01a0 094B     		ldr	r3, .L74+4
 816 01a2 5C64     		str	r4, [r3, #68]	@ float
 372:../../settings.c ****         case 122:
 817              		.loc 1 372 13 is_stmt 1 view .LVU193
 818 01a4 9DE7     		b	.L68
 819              	.L40:
 374:../../settings.c ****             break;
 820              		.loc 1 374 13 view .LVU194
 374:../../settings.c ****             break;
 821              		.loc 1 374 40 is_stmt 0 view .LVU195
 822 01a6 084B     		ldr	r3, .L74+4
 823 01a8 1C65     		str	r4, [r3, #80]	@ float
 375:../../settings.c ****         case 132:
 824              		.loc 1 375 13 is_stmt 1 view .LVU196
 825 01aa 9AE7     		b	.L68
 826              	.L36:
 377:../../settings.c ****             break;
 827              		.loc 1 377 13 view .LVU197
 377:../../settings.c ****             break;
 828              		.loc 1 377 40 is_stmt 0 view .LVU198
 829 01ac 064B     		ldr	r3, .L74+4
 830 01ae DC65     		str	r4, [r3, #92]	@ float
 378:../../settings.c **** #endif
 831              		.loc 1 378 13 is_stmt 1 view .LVU199
 832 01b0 97E7     		b	.L68
 833              	.L69:
 268:../../settings.c ****     }
 834              		.loc 1 268 16 is_stmt 0 view .LVU200
 835 01b2 0420     		movs	r0, #4
 836 01b4 9BE7     		b	.L35
 837              	.L70:
 266:../../settings.c ****     {
 838              		.loc 1 266 7 view .LVU201
 839 01b6 0320     		movs	r0, #3
 840 01b8 99E7     		b	.L35
 841              	.L71:
 276:../../settings.c ****             }
 842              		.loc 1 276 24 view .LVU202
 843 01ba 0C20     		movs	r0, #12
 844 01bc 97E7     		b	.L35
 845              	.L72:
 310:../../settings.c ****             }
 846              		.loc 1 310 24 view .LVU203
 847 01be 0A20     		movs	r0, #10
 848 01c0 95E7     		b	.L35
 849              	.L75:
 850 01c2 00BF     		.align	2
 851              	.L74:
 852 01c4 0060EA46 		.word	1189765120
 853 01c8 00000000 		.word	g_settings
 854              		.cfi_endproc
 855              	.LFE69:
 857              		.section	.text.settings_erase,"ax",%progbits
 858              		.align	1
 859              		.global	settings_erase
 860              		.syntax unified
 861              		.thumb
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 26


 862              		.thumb_func
 863              		.fpu softvfp
 865              	settings_erase:
 866              	.LVL56:
 867              	.LFB70:
 440:../../settings.c **** 
 441:../../settings.c **** void settings_erase(uint16_t address, uint8_t size)
 442:../../settings.c **** {
 868              		.loc 1 442 1 is_stmt 1 view -0
 869              		.cfi_startproc
 870              		@ args = 0, pretend = 0, frame = 0
 871              		@ frame_needed = 0, uses_anonymous_args = 0
 872              		.loc 1 442 1 is_stmt 0 view .LVU205
 873 0000 70B5     		push	{r4, r5, r6, lr}
 874              	.LCFI8:
 875              		.cfi_def_cfa_offset 16
 876              		.cfi_offset 4, -16
 877              		.cfi_offset 5, -12
 878              		.cfi_offset 6, -8
 879              		.cfi_offset 14, -4
 880 0002 0646     		mov	r6, r0
 881 0004 0C46     		mov	r4, r1
 443:../../settings.c **** 	while(size)
 882              		.loc 1 443 2 is_stmt 1 view .LVU206
 883              		.loc 1 443 7 is_stmt 0 view .LVU207
 884 0006 0AE0     		b	.L77
 885              	.LVL57:
 886              	.L82:
 444:../../settings.c **** 	{
 445:../../settings.c **** 		if(cnc_get_exec_state(EXEC_RUN))
 446:../../settings.c ****     	{
 447:../../settings.c ****     		cnc_doevents(); //updates buffer before cycling
 887              		.loc 1 447 7 is_stmt 1 view .LVU208
 888 0008 FFF7FEFF 		bl	cnc_doevents
 889              	.LVL58:
 890              	.L78:
 448:../../settings.c **** 		}
 449:../../settings.c **** 		mcu_eeprom_putc(address++, EOL);
 891              		.loc 1 449 3 view .LVU209
 892 000c 751C     		adds	r5, r6, #1
 893 000e ADB2     		uxth	r5, r5
 894              	.LVL59:
 895              		.loc 1 449 3 is_stmt 0 view .LVU210
 896 0010 0021     		movs	r1, #0
 897 0012 3046     		mov	r0, r6
 898 0014 FFF7FEFF 		bl	mcu_eeprom_putc
 899              	.LVL60:
 450:../../settings.c **** 		size--;
 900              		.loc 1 450 3 is_stmt 1 view .LVU211
 901              		.loc 1 450 7 is_stmt 0 view .LVU212
 902 0018 013C     		subs	r4, r4, #1
 903              	.LVL61:
 904              		.loc 1 450 7 view .LVU213
 905 001a E4B2     		uxtb	r4, r4
 906              	.LVL62:
 449:../../settings.c **** 		size--;
 907              		.loc 1 449 3 view .LVU214
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 27


 908 001c 2E46     		mov	r6, r5
 909              	.LVL63:
 910              	.L77:
 443:../../settings.c **** 	{
 911              		.loc 1 443 7 is_stmt 1 view .LVU215
 912 001e 2CB1     		cbz	r4, .L81
 445:../../settings.c ****     	{
 913              		.loc 1 445 3 view .LVU216
 445:../../settings.c ****     	{
 914              		.loc 1 445 6 is_stmt 0 view .LVU217
 915 0020 0120     		movs	r0, #1
 916 0022 FFF7FEFF 		bl	cnc_get_exec_state
 917              	.LVL64:
 445:../../settings.c ****     	{
 918              		.loc 1 445 5 view .LVU218
 919 0026 0028     		cmp	r0, #0
 920 0028 F0D0     		beq	.L78
 921 002a EDE7     		b	.L82
 922              	.L81:
 451:../../settings.c **** 	}
 452:../../settings.c **** 
 453:../../settings.c **** 	//erase crc byte that is next to data
 454:../../settings.c **** 	mcu_eeprom_putc(address, EOL);
 923              		.loc 1 454 2 is_stmt 1 view .LVU219
 924 002c 0021     		movs	r1, #0
 925 002e 3046     		mov	r0, r6
 926 0030 FFF7FEFF 		bl	mcu_eeprom_putc
 927              	.LVL65:
 455:../../settings.c **** }
 928              		.loc 1 455 1 is_stmt 0 view .LVU220
 929 0034 70BD     		pop	{r4, r5, r6, pc}
 930              		.loc 1 455 1 view .LVU221
 931              		.cfi_endproc
 932              	.LFE70:
 934              		.section	.text.settings_check_startup_gcode,"ax",%progbits
 935              		.align	1
 936              		.global	settings_check_startup_gcode
 937              		.syntax unified
 938              		.thumb
 939              		.thumb_func
 940              		.fpu softvfp
 942              	settings_check_startup_gcode:
 943              	.LVL66:
 944              	.LFB71:
 456:../../settings.c **** 
 457:../../settings.c **** bool settings_check_startup_gcode(uint16_t address)
 458:../../settings.c **** {
 945              		.loc 1 458 1 is_stmt 1 view -0
 946              		.cfi_startproc
 947              		@ args = 0, pretend = 0, frame = 0
 948              		@ frame_needed = 0, uses_anonymous_args = 0
 949              		.loc 1 458 1 is_stmt 0 view .LVU223
 950 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 951              	.LCFI9:
 952              		.cfi_def_cfa_offset 24
 953              		.cfi_offset 3, -24
 954              		.cfi_offset 4, -20
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 28


 955              		.cfi_offset 5, -16
 956              		.cfi_offset 6, -12
 957              		.cfi_offset 7, -8
 958              		.cfi_offset 14, -4
 959 0002 0646     		mov	r6, r0
 459:../../settings.c **** 	uint8_t size = (RX_BUFFER_SIZE - 1); //defined in serial.h
 960              		.loc 1 459 2 is_stmt 1 view .LVU224
 961              	.LVL67:
 460:../../settings.c **** 	uint8_t crc = 0;
 962              		.loc 1 460 2 view .LVU225
 461:../../settings.c **** 	unsigned char c;
 963              		.loc 1 461 2 view .LVU226
 462:../../settings.c **** 	uint16_t cmd_address = address;
 964              		.loc 1 462 2 view .LVU227
 965              		.loc 1 462 11 is_stmt 0 view .LVU228
 966 0004 0546     		mov	r5, r0
 460:../../settings.c **** 	uint8_t crc = 0;
 967              		.loc 1 460 10 view .LVU229
 968 0006 0024     		movs	r4, #0
 459:../../settings.c **** 	uint8_t crc = 0;
 969              		.loc 1 459 10 view .LVU230
 970 0008 2746     		mov	r7, r4
 971              	.LVL68:
 972              	.L85:
 463:../../settings.c **** 	
 464:../../settings.c **** 	//pre-checks command valid crc
 465:../../settings.c ****     do
 973              		.loc 1 465 5 is_stmt 1 view .LVU231
 466:../../settings.c ****     {
 467:../../settings.c ****         c = mcu_eeprom_getc(cmd_address++);
 974              		.loc 1 467 9 view .LVU232
 975 000a 2846     		mov	r0, r5
 976              		.loc 1 467 13 is_stmt 0 view .LVU233
 977 000c 0135     		adds	r5, r5, #1
 978              	.LVL69:
 979              		.loc 1 467 13 view .LVU234
 980 000e ADB2     		uxth	r5, r5
 981              	.LVL70:
 982              		.loc 1 467 13 view .LVU235
 983 0010 FFF7FEFF 		bl	mcu_eeprom_getc
 984              	.LVL71:
 468:../../settings.c ****         crc = rom_read_byte(&crc7_table[c ^ crc]);
 985              		.loc 1 468 9 is_stmt 1 view .LVU236
 986              		.loc 1 468 43 is_stmt 0 view .LVU237
 987 0014 4440     		eors	r4, r4, r0
 988              	.LVL72:
 989              		.loc 1 468 43 view .LVU238
 990 0016 E4B2     		uxtb	r4, r4
 991              		.loc 1 468 13 view .LVU239
 992 0018 0E4B     		ldr	r3, .L90
 993 001a 1C5D     		ldrb	r4, [r3, r4]	@ zero_extendqisi2
 994              	.LVL73:
 469:../../settings.c ****         if(!c)
 995              		.loc 1 469 9 is_stmt 1 view .LVU240
 996              		.loc 1 469 11 is_stmt 0 view .LVU241
 997 001c 18B1     		cbz	r0, .L84
 470:../../settings.c ****         {
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 29


 471:../../settings.c ****         	break;
 472:../../settings.c **** 		}
 473:../../settings.c ****         size--;
 998              		.loc 1 473 9 is_stmt 1 view .LVU242
 999              		.loc 1 473 13 is_stmt 0 view .LVU243
 1000 001e 7B1E     		subs	r3, r7, #1
 1001              	.LVL74:
 474:../../settings.c ****     }while(size);
 1002              		.loc 1 474 11 is_stmt 1 view .LVU244
 1003              		.loc 1 474 5 is_stmt 0 view .LVU245
 1004 0020 13F0FF07 		ands	r7, r3, #255
 1005 0024 F1D1     		bne	.L85
 1006              	.LVL75:
 1007              	.L84:
 475:../../settings.c ****     
 476:../../settings.c ****     if(crc ^ mcu_eeprom_getc(cmd_address))
 1008              		.loc 1 476 5 is_stmt 1 view .LVU246
 1009              		.loc 1 476 14 is_stmt 0 view .LVU247
 1010 0026 2846     		mov	r0, r5
 1011              	.LVL76:
 1012              		.loc 1 476 14 view .LVU248
 1013 0028 FFF7FEFF 		bl	mcu_eeprom_getc
 1014              	.LVL77:
 1015              		.loc 1 476 7 view .LVU249
 1016 002c A042     		cmp	r0, r4
 1017 002e 01D1     		bne	.L89
 477:../../settings.c ****     {
 478:../../settings.c ****     	serial_putc('>');
 479:../../settings.c ****     	serial_putc(':');
 480:../../settings.c ****     	protocol_send_error(STATUS_SETTING_READ_FAIL);
 481:../../settings.c ****     	settings_erase(address, 1);
 482:../../settings.c ****     	return false;
 483:../../settings.c **** 	}
 484:../../settings.c **** 
 485:../../settings.c ****     return true;
 1018              		.loc 1 485 12 view .LVU250
 1019 0030 0120     		movs	r0, #1
 1020              	.L86:
 486:../../settings.c **** }
 1021              		.loc 1 486 1 view .LVU251
 1022 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1023              	.LVL78:
 1024              	.L89:
 478:../../settings.c ****     	serial_putc(':');
 1025              		.loc 1 478 6 is_stmt 1 view .LVU252
 1026 0034 3E20     		movs	r0, #62
 1027 0036 FFF7FEFF 		bl	serial_putc
 1028              	.LVL79:
 479:../../settings.c ****     	protocol_send_error(STATUS_SETTING_READ_FAIL);
 1029              		.loc 1 479 6 view .LVU253
 1030 003a 3A20     		movs	r0, #58
 1031 003c FFF7FEFF 		bl	serial_putc
 1032              	.LVL80:
 480:../../settings.c ****     	settings_erase(address, 1);
 1033              		.loc 1 480 6 view .LVU254
 1034 0040 0720     		movs	r0, #7
 1035 0042 FFF7FEFF 		bl	protocol_send_error
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 30


 1036              	.LVL81:
 481:../../settings.c ****     	return false;
 1037              		.loc 1 481 6 view .LVU255
 1038 0046 0121     		movs	r1, #1
 1039 0048 3046     		mov	r0, r6
 1040 004a FFF7FEFF 		bl	settings_erase
 1041              	.LVL82:
 482:../../settings.c **** 	}
 1042              		.loc 1 482 6 view .LVU256
 482:../../settings.c **** 	}
 1043              		.loc 1 482 13 is_stmt 0 view .LVU257
 1044 004e 0020     		movs	r0, #0
 1045 0050 EFE7     		b	.L86
 1046              	.L91:
 1047 0052 00BF     		.align	2
 1048              	.L90:
 1049 0054 00000000 		.word	.LANCHOR0
 1050              		.cfi_endproc
 1051              	.LFE71:
 1053              		.section	.text.settings_save_startup_gcode,"ax",%progbits
 1054              		.align	1
 1055              		.global	settings_save_startup_gcode
 1056              		.syntax unified
 1057              		.thumb
 1058              		.thumb_func
 1059              		.fpu softvfp
 1061              	settings_save_startup_gcode:
 1062              	.LVL83:
 1063              	.LFB72:
 487:../../settings.c **** 
 488:../../settings.c **** void settings_save_startup_gcode(uint16_t address)
 489:../../settings.c **** {
 1064              		.loc 1 489 1 is_stmt 1 view -0
 1065              		.cfi_startproc
 1066              		@ args = 0, pretend = 0, frame = 0
 1067              		@ frame_needed = 0, uses_anonymous_args = 0
 1068              		.loc 1 489 1 is_stmt 0 view .LVU259
 1069 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1070              	.LCFI10:
 1071              		.cfi_def_cfa_offset 24
 1072              		.cfi_offset 3, -24
 1073              		.cfi_offset 4, -20
 1074              		.cfi_offset 5, -16
 1075              		.cfi_offset 6, -12
 1076              		.cfi_offset 7, -8
 1077              		.cfi_offset 14, -4
 1078 0002 0646     		mov	r6, r0
 490:../../settings.c **** 	uint8_t size = (RX_BUFFER_SIZE - 1);
 1079              		.loc 1 490 2 is_stmt 1 view .LVU260
 1080              	.LVL84:
 491:../../settings.c **** 	uint8_t crc = 0;
 1081              		.loc 1 491 2 view .LVU261
 1082              		.loc 1 491 10 is_stmt 0 view .LVU262
 1083 0004 0024     		movs	r4, #0
 490:../../settings.c **** 	uint8_t size = (RX_BUFFER_SIZE - 1);
 1084              		.loc 1 490 10 view .LVU263
 1085 0006 2746     		mov	r7, r4
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 31


 1086              	.LVL85:
 1087              	.L94:
 492:../../settings.c **** 	unsigned char c;
 1088              		.loc 1 492 2 is_stmt 1 discriminator 2 view .LVU264
 493:../../settings.c ****     do
 1089              		.loc 1 493 5 discriminator 2 view .LVU265
 494:../../settings.c ****     {
 495:../../settings.c ****         c = serial_getc();
 1090              		.loc 1 495 9 discriminator 2 view .LVU266
 1091              		.loc 1 495 13 is_stmt 0 discriminator 2 view .LVU267
 1092 0008 FFF7FEFF 		bl	serial_getc
 1093              	.LVL86:
 1094 000c 0546     		mov	r5, r0
 1095              	.LVL87:
 496:../../settings.c ****         crc = rom_read_byte(&crc7_table[c ^ crc]);
 1096              		.loc 1 496 9 is_stmt 1 discriminator 2 view .LVU268
 1097              		.loc 1 496 43 is_stmt 0 discriminator 2 view .LVU269
 1098 000e 4440     		eors	r4, r4, r0
 1099              	.LVL88:
 1100              		.loc 1 496 43 discriminator 2 view .LVU270
 1101 0010 E4B2     		uxtb	r4, r4
 1102              		.loc 1 496 13 discriminator 2 view .LVU271
 1103 0012 094B     		ldr	r3, .L96
 1104 0014 1C5D     		ldrb	r4, [r3, r4]	@ zero_extendqisi2
 1105              	.LVL89:
 497:../../settings.c ****         mcu_eeprom_putc(address++, (uint8_t)c);
 1106              		.loc 1 497 9 is_stmt 1 discriminator 2 view .LVU272
 1107 0016 3046     		mov	r0, r6
 1108              	.LVL90:
 1109              		.loc 1 497 9 is_stmt 0 discriminator 2 view .LVU273
 1110 0018 0136     		adds	r6, r6, #1
 1111              	.LVL91:
 1112              		.loc 1 497 9 discriminator 2 view .LVU274
 1113 001a B6B2     		uxth	r6, r6
 1114              	.LVL92:
 1115              		.loc 1 497 9 discriminator 2 view .LVU275
 1116 001c 2946     		mov	r1, r5
 1117 001e FFF7FEFF 		bl	mcu_eeprom_putc
 1118              	.LVL93:
 498:../../settings.c ****         size--;
 1119              		.loc 1 498 9 is_stmt 1 discriminator 2 view .LVU276
 1120              		.loc 1 498 13 is_stmt 0 discriminator 2 view .LVU277
 1121 0022 7B1E     		subs	r3, r7, #1
 1122              	.LVL94:
 499:../../settings.c ****     }while(size && c);
 1123              		.loc 1 499 11 is_stmt 1 discriminator 2 view .LVU278
 1124              		.loc 1 499 5 is_stmt 0 discriminator 2 view .LVU279
 1125 0024 13F0FF07 		ands	r7, r3, #255
 1126 0028 01D0     		beq	.L93
 1127              		.loc 1 499 17 discriminator 1 view .LVU280
 1128 002a 002D     		cmp	r5, #0
 1129 002c ECD1     		bne	.L94
 1130              	.L93:
 500:../../settings.c ****     
 501:../../settings.c ****     mcu_eeprom_putc(address, crc);
 1131              		.loc 1 501 5 is_stmt 1 view .LVU281
 1132 002e 2146     		mov	r1, r4
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 32


 1133 0030 3046     		mov	r0, r6
 1134 0032 FFF7FEFF 		bl	mcu_eeprom_putc
 1135              	.LVL95:
 502:../../settings.c **** }
 1136              		.loc 1 502 1 is_stmt 0 view .LVU282
 1137 0036 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1138              	.LVL96:
 1139              	.L97:
 1140              		.loc 1 502 1 view .LVU283
 1141              		.align	2
 1142              	.L96:
 1143 0038 00000000 		.word	.LANCHOR0
 1144              		.cfi_endproc
 1145              	.LFE72:
 1147              		.global	default_settings
 1148              		.global	crc7_table
 1149              		.comm	g_settings,100,4
 1150              		.section	.rodata.crc7_table,"a"
 1151              		.align	2
 1152              		.set	.LANCHOR0,. + 0
 1155              	crc7_table:
 1156 0000 0009121B 		.ascii	"\000\011\022\033$-6?HAZSle~w\031\020\013\002=4/&QXC"
 1156      242D363F 
 1156      48415A53 
 1156      6C657E77 
 1156      19100B02 
 1157 001b 4A757C67 		.ascii	"Ju|gn2; )\026\037\004\015zsha^WLE+\"90\017\006\035\024"
 1157      6E323B20 
 1157      29161F04 
 1157      0D7A7368 
 1157      615E574C 
 1158 0038 636A7178 		.ascii	"cjqxGNU\\dmv\177@IR[,%>7\010\001\032\023}tofYPKB5<'"
 1158      474E555C 
 1158      646D767F 
 1158      4049525B 
 1158      2C253E37 
 1159 005b 2E111803 		.ascii	".\021\030\003\012V_DMr{`i\036\027\014\005:3(!OF]Tkb"
 1159      0A565F44 
 1159      4D727B60 
 1159      691E170C 
 1159      053A3328 
 1160 0076 7970070E 		.ascii	"yp\007\016\025\034#*18AHSZelw~\011\000\033\022-$?6X"
 1160      151C232A 
 1160      31384148 
 1160      535A656C 
 1160      777E0900 
 1161 0091 514A437C 		.ascii	"QJC|ung\020\031\002\0134=&/szahW^EL;2) \037\026\015"
 1161      756E6710 
 1161      19020B34 
 1161      3D262F73 
 1161      7A616857 
 1162 00af 046A6378 		.ascii	"\004jcxqNG\\U\"+09\006\017\024\035%,7>\001\010\023\032"
 1162      714E475C 
 1162      55222B30 
 1162      39060F14 
 1162      1D252C37 
 1163 00c8 6D647F76 		.ascii	"md\177vI@[R<5.'\030\021\012\003t}foPYBK\027\036\005"
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 33


 1163      49405B52 
 1163      3C352E27 
 1163      18110A03 
 1163      747D666F 
 1164 00e3 0C333A21 		.ascii	"\0143:!(_VMD{ri`\016\007\034\025*#81FOT]bkpy"
 1164      285F564D 
 1164      447B7269 
 1164      600E071C 
 1164      152A2338 
 1165              		.section	.rodata.default_settings,"a"
 1166              		.align	2
 1167              		.set	.LANCHOR1,. + 0
 1170              	default_settings:
 1171 0000 563031   		.ascii	"V01"
 1172 0003 00       		.space	1
 1173 0004 3075     		.short	30000
 1174 0006 00       		.byte	0
 1175 0007 00       		.byte	0
 1176 0008 00       		.byte	0
 1177 0009 00       		.byte	0
 1178 000a 00       		.byte	0
 1179 000b 01       		.byte	1
 1180 000c 00       		.byte	0
 1181 000d 000000   		.space	3
 1182 0010 6F12033B 		.word	990057071
 1183 0014 00       		.byte	0
 1184 0015 00       		.byte	0
 1185 0016 00       		.byte	0
 1186 0017 00       		.byte	0
 1187 0018 00       		.byte	0
 1188 0019 000000   		.space	3
 1189 001c 00004842 		.word	1112014848
 1190 0020 00002041 		.word	1092616192
 1191 0024 00000040 		.word	1073741824
 1192 0028 00007A44 		.word	1148846080
 1193 002c 00000000 		.word	0
 1194 0030 00004843 		.word	1128792064
 1195 0034 00004843 		.word	1128792064
 1196 0038 00004843 		.word	1128792064
 1197 003c 0000FA43 		.word	1140457472
 1198 0040 0000FA43 		.word	1140457472
 1199 0044 0000FA43 		.word	1140457472
 1200 0048 00002041 		.word	1092616192
 1201 004c 00002041 		.word	1092616192
 1202 0050 00002041 		.word	1092616192
 1203 0054 00004843 		.word	1128792064
 1204 0058 00004843 		.word	1128792064
 1205 005c 00004843 		.word	1128792064
 1206 0060 01       		.byte	1
 1207 0061 000000   		.space	3
 1208              		.text
 1209              	.Letext0:
 1210              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 1211              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 1212              		.file 4 "Drivers/CMSIS/Include/core_cm3.h"
 1213              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/system_stm32f1xx.h"
 1214              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 34


 1215              		.file 7 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\lib\\gcc\\arm-none
 1216              		.file 8 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 1217              		.file 9 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\inc
 1218              		.file 10 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\in
 1219              		.file 11 "../../settings.h"
 1220              		.file 12 "c:\\program files (x86)\\gnu arm embedded toolchain\\9 2020-q2-update\\arm-none-eabi\\in
 1221              		.file 13 "../../serial.h"
 1222              		.file 14 "../../mcu.h"
 1223              		.file 15 "../../protocol.h"
 1224              		.file 16 "../../cnc.h"
 1225              		.file 17 "<built-in>"
ARM GAS  C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s 			page 35


DEFINED SYMBOLS
                            *ABS*:00000000 settings.c
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:16     .text.settings_load:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:24     .text.settings_load:00000000 settings_load
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:111    .text.settings_load:00000034 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:116    .text.settings_save:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:123    .text.settings_save:00000000 settings_save
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:209    .text.settings_save:00000048 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:214    .text.settings_reset:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:221    .text.settings_reset:00000000 settings_reset
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:256    .text.settings_reset:0000001c $d
                            *COM*:00000064 g_settings
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:262    .rodata.settings_init.str1.4:00000000 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:266    .text.settings_init:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:273    .text.settings_init:00000000 settings_init
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:373    .text.settings_init:00000058 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:383    .text.settings_change:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:390    .text.settings_change:00000000 settings_change
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:451    .text.settings_change:00000042 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:852    .text.settings_change:000001c4 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:858    .text.settings_erase:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:865    .text.settings_erase:00000000 settings_erase
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:935    .text.settings_check_startup_gcode:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:942    .text.settings_check_startup_gcode:00000000 settings_check_startup_gcode
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1049   .text.settings_check_startup_gcode:00000054 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1054   .text.settings_save_startup_gcode:00000000 $t
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1061   .text.settings_save_startup_gcode:00000000 settings_save_startup_gcode
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1143   .text.settings_save_startup_gcode:00000038 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1170   .rodata.default_settings:00000000 default_settings
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1155   .rodata.crc7_table:00000000 crc7_table
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1151   .rodata.crc7_table:00000000 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:1166   .rodata.default_settings:00000000 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:584    .text.settings_change:000000c7 $d
C:\Users\JCEM\AppData\Local\Temp\ccirWLGT.s:584    .text.settings_change:000000c8 $t

UNDEFINED SYMBOLS
mcu_eeprom_getc
cnc_doevents
mcu_eeprom_putc
cnc_get_exec_state
memcpy
protocol_send_error
protocol_send_ucnc_settings
__aeabi_f2uiz
__aeabi_fcmpeq
__aeabi_fcmplt
__aeabi_fcmpgt
serial_putc
serial_getc
